<div class="container mt-5">
  <div class="row">
    <!-- 会員情報セクション -->
    <div class="col-md-4">
      <%= render 'public/customers/customer_section' %>
    </div>

    <!-- 投稿編集セクション -->
    <div class="col-md-8">
      <div class="card">
        <div class="card-header" style="background-color: #AFDFE4;">
          <h2 class="mb-0 text-center">
            <i class="fa-solid fa-fish-fins mr-2" style="color: #117a8b;"></i>
            <%= "#{@post.genre ? @post.genre.name : ''}" %>
          </h2>
        </div>
        <div class="card-body">
          <%= form_with model: @post, local: true do |form| %>

            <!-- 画像 -->
            <div class="form-group text-center mb-3">
              <% if @post.image.attached? %>
                <%= image_tag @post.image, class: "img-fluid", style: "max-height: 300px; object-fit: cover;" %>
              <% else %>
                <%= image_tag 'no_image.jpg', class: "img-fluid", style: "max-height: 300px; object-fit: cover;" %>
              <% end %>
              <%= form.file_field :image, class: 'form-control-file mt-2' %>
            </div>

            <!-- 釣り場 -->
            <div class="form-group d-flex align-items-center">
              <i class="fas fa-anchor mr-2" style="color: #717375;"></i>
              <%= form.text_field :location, class: 'form-control ml-2' %>
            </div>

            <!-- 釣り方 -->
            <div class="form-group d-flex align-items-center">
              <i class="fa-solid fa-tags mr-2" style="color: #4d992f;"></i>
              <%= form.text_field :rigs, class: 'form-control ml-2' %>
            </div>

            <!-- タックル情報 -->
            <!-- タックル情報が複数ある場合は、それぞれのフィールドを追加してください -->
            <div class="form-group">
              <%= form.label :tackle, 'タックル情報', class: 'd-block' %>
              <%= form.text_field :tackle, class: 'form-control' %>
            </div>

            <!-- 感想 -->
            <div class="form-group">
              <i class="fa-solid fa-pencil mr-2" style="color: #000;"></i>
            
              <%= form.text_area :body, class: 'form-control', rows: 5 %>
            </div>

            <!-- 投稿日 -->
            <div class="form-group d-flex align-items-center">
              <small><i class="fas fa-calendar-alt mr-2" style="color: #e32d2d;"></i><%= l @post.created_at, format: :custom_long %></small>
            </div>

            <!-- 更新ボタン -->
            <div class="text-center">
              <%= form.submit '更新する', class: 'btn btn-success' %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
