<!--コメントのIDを取得-->
var commentId = "<%= @comment.id %>";

<!--更新されたコメントの内容を取得-->
var commentContent = "<%= j(@comment.comment) %>";

<!--コメント表示部分の要素を取得し、内容を更新-->
var commentElement = document.getElementById('comment-' + commentId);
if (commentElement) {
  var commentParagraph = commentElement.querySelector('p');
  if (commentParagraph) {
    commentParagraph.innerHTML = commentContent;
  }
}

<!--編集フォームを非表示にし、元のコメント表示を再び表示-->
var editFormElement = document.getElementById('edit-comment-' + commentId);
if (editFormElement) {
  editFormElement.style.display = 'none';
  commentElement.style.display = 'block';
}

<!--エラーメッセージ-->
var flashMessages = document.getElementById('flash-messages');

<!--成功-->
var successMessage = "<div class='alert alert-success' role='alert'><%= j flash.now[:notice] %><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button></div>";

<!--失敗-->
var alertMessage = "<div class='alert alert-warning' role='alert'><%= j flash.now[:alert] %><button type='button' class='close' data-dismiss='alert' aria-label='Close'><span aria-hidden='true'>&times;</span></button></div>";

<!--表記方法-->
if ("<%= flash.now[:notice] %>") {
    flashMessages.innerHTML = successMessage;
} else if ("<%= flash.now[:alert] %>") {
    flashMessages.innerHTML = alertMessage;
}
