<!--このファイルは本の詳細画面(books/show)で自分の感想をインライン編集-->

<!--編集されたbook_commentのIDをJS変数「commentId」に格納する-->
var commentId = <%= @comment.id %>;

<!--更新されたbook_commentのbodyをJS変数「commentBody」に格納する-->
<!-- escape_javascript（ j ヘルパー）メソッドについて
JavaScript内で使用される文字列に含まれる特殊文字（改行やダブルクォーテーション、バックスラッシュなど）をエスケープ処理（回避）し、
JavaScriptが正しく解釈できる形式に変換するRailsのビューヘルパー
これにより、文字列がJavaScriptのコード内で安全に使用できる -->
var commentBody = '<%= j render @comment.comment %>';

<!-- DOM（Document Object Model）について
getElementByIdメゾッドは、引数に指定されたID属性を持つHTML要素をDOMから探し出す。
WERTBOOKでは、BookCommentモデルのインスタンスに紐づいた一意のIDを使用して、特定の感想要素を見つけ出す

querySelectorメソッドは、指定されたセレクターに一致する要素の中で最初に見つかったものを返す
WERTBOOKでは、特定の感想要素内の最初の<p>タグ、つまり感想の本文を含む部分を取得できる

これらのメソッドを使用すると、JavaScriptを通じて特定の感想の内容を動的に更新できる
-->
var commentParagraph = document.getElementById('comment-' + commentId).querySelector('p');

<!--innerHTMLプロパティで、感想を新しい本文に更新する-->
commentParagraph.innerHTML = commentBody;

<!--編集フォームの要素をgetElementByIdメゾットで取得し、editForm 変数に格納-->
var editForm = document.getElementById('edit-comment-' + commentId

<!--感想を編集して更新が完了すると、編集フォームを非表示にする-->
editForm.style.display = 'none';

<!--更新された感想をユーザーに表示する-->
document.getElementById('comment-' + commentId).style.display = 'block';
